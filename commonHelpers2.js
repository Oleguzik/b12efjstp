import{b as g,r,o as S,m as E}from"./assets/favorites-aa62cfb8.js";import"./assets/vendor-cb82152a.js";let n,l;const N=document.querySelector(".exercises-type-list"),t=document.querySelector(".exercises-gallery-list"),a=document.querySelector(".pagination-list"),c=document.querySelector(".exercises-type-form"),L=document.querySelector(".exercises-form-input"),v=document.querySelector(".exercises-form-btn-clear"),x=document.querySelector(".exercises-empty-message"),f=document.querySelector(".exercises-section-title-span");function q(){n=document.documentElement.scrollWidth<768,l=document.documentElement.scrollWidth>=1440,N.addEventListener("click",F),t.addEventListener("click",A),a.addEventListener("click",G),c.addEventListener("submit",D),L.addEventListener("input",H),v.addEventListener("click",M),window.addEventListener("resize",w),u()}function w(){let e=!1;n!==document.documentElement.scrollWidth<768&&(e=!0,n=!n),l!==document.documentElement.scrollWidth>=1440&&(e=!0,l=!l),e&&(t.dataset.isGroups?u():o())}function D(e){e.preventDefault(),o()}function H(){const e=L.value.trim();v.style.display=e.length>0?"block":"none"}function M(){c.reset(),v.style.display="none",o()}async function u(e=1){t.classList.add("visually-hidden"),a.classList.add("visually-hidden"),t.dataset.isGroups="true",t.dataset.groupName="";const s={filter:h().dataset.filter,limit:n?8:12,page:e},i=await g.getFilterData(s);t.classList.remove("visually-hidden"),a.classList.remove("visually-hidden"),k(i)}async function o(e=1){t.classList.add("visually-hidden"),a.classList.add("visually-hidden");const s={[h().dataset.exerciseFilter]:t.dataset.groupName,limit:l?9:8,page:e},i=L.value.trim();i&&(s.keyword=i),f.firstElementChild.textContent=T(t.dataset.groupName);const m=await g.getExercisesData(s);k(m,!0),t.classList.remove("visually-hidden"),a.classList.remove("visually-hidden")}function k(e={},s=!1){const{results:i=[],totalPages:m=1,page:b=1}=e;if(i.length===0)x.classList.remove("visually-hidden"),t.classList.add("visually-hidden"),t.innerHTML=i.map(p=>r.filterGroupsMarkup(p)).join(""),a.innerHTML=r.paginationMarkup();else{x.classList.add("visually-hidden"),t.classList.remove("visually-hidden");const p=s?i.map(y=>r.exerciseCardMarkup(y)).join(""):i.map(y=>r.filterGroupsMarkup(y)).join("");s?f.classList.remove("visually-hidden"):f.classList.add("visually-hidden"),t.innerHTML=p,a.innerHTML=r.paginationMarkup(m,b)}}function A(e){if(e.target.nodeName==="A"||e.target.nodeName==="P"||e.target.nodeName==="H3"){e.preventDefault();const s=e.target.nodeName==="A"?e.target:e.target.closest("a");t.dataset.isGroups="",t.dataset.groupName=s.dataset.name,o(),c.classList.remove("visually-hidden")}else if(t.dataset.groupName){const s=e.target.closest(".exercise-card-start-btn");s&&S(s.getAttribute("data-open-id"))}}function F(e){e.target.nodeName==="BUTTON"&&(h().classList.toggle("exercises-type-item-active"),e.target.classList.toggle("exercises-type-item-active"),u(),c.reset(),c.classList.add("visually-hidden"))}function G(e){if(e.target.nodeName==="A"){e.preventDefault();const s=Number(e.target.innerText);t.dataset.isGroups?u(s):o(s)}}function h(){return document.querySelector(".exercises-type-item-active")}function T(e=""){return e[0].toUpperCase()+e.substring(1)}q();const d=document.querySelector(".footer-subscription-form");d.addEventListener("submit",async e=>{e.preventDefault();const s=d.elements.email.value,i=await g.subscription(s);i.result?(E.showSuccess(i.message),d.elements.email.classList.remove("is-glowing")):E.showError(i.message),d.reset()});
//# sourceMappingURL=commonHelpers2.js.map
