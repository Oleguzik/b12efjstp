{"version":3,"file":"favorites-aa62cfb8.js","sources":["../../src/js/notificationAPI.js","../../src/js/backendAPI.js","../../src/js/localStorageAPI.js","../../src/img/sprite.svg","../../src/js/renderMarkup.js","../../src/js/modal-feedback.js","../../src/js/modal-exercise.js","../../src/js/header.js","../../src/js/scroll.js","../../src/js/initialization.js","../../src/favorites.js"],"sourcesContent":["import iziToast from 'izitoast';\n// import 'izitoast/dist/css/iziToast.min.css';\n\nconst messages = {\n  showInfo: textMessage => {\n    if (isValidMessage(textMessage)) {\n      showMessage(textMessage, 'info');\n    }\n  },\n  showSuccess: textMessage => {\n    if (isValidMessage(textMessage)) {\n      showMessage(textMessage, 'success');\n    }\n  },\n  showError: textMessage => {\n    if (isValidMessage(textMessage)) {\n      showMessage(textMessage, 'error');\n    }\n  },\n};\n\nconst isValidMessage = textMessage => {\n  const maxLength = 300;\n\n  return textMessage.trim().length <= maxLength;\n};\n\nconst showMessage = (message, type = '') => {\n  const maxLength = 200;\n\n  const lines = [];\n  while (message.length > maxLength) {\n    lines.push(message.slice(0, maxLength));\n    message = message.slice(maxLength);\n  }\n  lines.push(message);\n\n  lines.forEach((line, index) => {\n    iziToast[type]({\n      title: index === 0 ? line : '',\n      message: index === 0 ? '' : line,\n      position: 'bottomCenter',\n      closeOnEscape: true,\n      closeOnClick: true,\n      timeout: 5000,\n      messageLineHeight: '12px',\n    });\n  });\n};\n\nexport default messages;\n","import axios from 'axios';\naxios.defaults.baseURL = `https://energyflow.b.goit.study/api`;\n\nconst backendAPI = {\n  // widthScreen: document.querySelector(`body`).getBoundingClientRect().width,\n  // filter: `Muscles`, // Body part, Muscles, Equipment\n  // choiceExercises: undefined, // Приймає значення назви картки при кліку на ній (Exercises/Waist)\n\n  getFilterData: async function ({ page = 1, limit = 8, filter = `Muscles` }) {\n    try {\n      const response = await axios.get(`/filters`, {\n        params: {\n          filter: filter,\n          page,\n          limit,\n        },\n      });\n      return response.data;\n    } catch (error) {\n      console.log(error);\n      return {\n        page: 0,\n        totalPages: 0,\n        results: [],\n      };\n    }\n  },\n\n  getExercisesData: async function (queryParams) {\n    // const validFilter = this.filter.replace(/\\s/g, '').toLowerCase();\n    try {\n      const response = await axios.get(`/exercises`, { params: queryParams });\n      return response.data;\n    } catch {\n      return {\n        page: 0,\n        totalPages: 0,\n        results: [],\n      };\n    }\n  },\n\n  getQuoteOfTheDay: async function () {\n    try {\n      const response = await axios.get(`/quote`);\n      return response.data;\n    } catch {\n      return {\n        author: '',\n        quote: '',\n      };\n    }\n  },\n\n  getExerciseInfo: async function (id = '') {\n    try {\n      const response = await axios.get(`exercises/${id}`);\n      return response.data;\n    } catch (error) {\n      return {\n        _id: '',\n        message: error.response.data.message,\n      };\n    }\n  },\n\n  updateExerciseRating: async function ({\n    id = '',\n    rate,\n    email = '',\n    review = '',\n  }) {\n    try {\n      const response = await axios.patch(`exercises/${id}/rating`, {\n        rate,\n        email,\n        review,\n      });\n      return { result: true };\n    } catch (error) {\n      return { result: false, message: error.response.data.message };\n    }\n  },\n\n  subscription: async function (email = '') {\n    try {\n      const response = await axios.post(`/subscription`, {\n        email: email,\n      });\n      return {\n        result: true,\n        message:\n          \"We're excited to have you on board! 🎉 Thank you for subscribing to new exercises on Energy Flow.You've just taken a significant step towards improving your fitness and well-being.\",\n      };\n    } catch (error) {\n      console.log(error);\n      return { result: false, message: error.response.data.message };\n    }\n  },\n};\n\nexport default backendAPI;\n","import backendAPI from './backendAPI';\n\nconst LOCAL_STORAGE_KEYS = {\n  quote: 'quoteOfTheDay',\n  favorites: 'favoritesExercises',\n};\n\nconst localStorageAPI = {\n  async getQuoteOfTheDay() {\n    const date = getFormattedDate(new Date());\n    const savedData = getDataFromLocalStorage(LOCAL_STORAGE_KEYS.quote);\n\n    if (savedData && savedData.date === date) {\n      return savedData;\n    } else {\n      const quoteData = await backendAPI.getQuoteOfTheDay();\n\n      if (quoteData?.quote) {\n        const dataToSave = { ...quoteData, date };\n        localStorage.setItem(\n          LOCAL_STORAGE_KEYS.quote,\n          JSON.stringify(dataToSave)\n        );\n        return dataToSave;\n      }\n      return quoteData;\n    }\n  },\n\n  getFavorites() {\n    const favoritesData = getDataFromLocalStorage(LOCAL_STORAGE_KEYS.favorites);\n\n    return favoritesData ? favoritesData : [];\n  },\n\n  addItemToFavorites(exercise = {}) {\n    let dataToSave = getDataFromLocalStorage(LOCAL_STORAGE_KEYS.favorites);\n\n    if (!dataToSave) {\n      dataToSave = [];\n    }\n\n    dataToSave.push(exercise);\n\n    localStorage.setItem(\n      LOCAL_STORAGE_KEYS.favorites,\n      JSON.stringify(dataToSave)\n    );\n  },\n\n  deleteItemFromFavorites(id = '') {\n    const favoritesData = getDataFromLocalStorage(LOCAL_STORAGE_KEYS.favorites);\n\n    if (favoritesData && id !== '') {\n      const dataToSave = favoritesData.filter(item => item._id !== id);\n      localStorage.setItem(\n        LOCAL_STORAGE_KEYS.favorites,\n        JSON.stringify(dataToSave)\n      );\n    }\n  },\n};\n\nexport default localStorageAPI;\n\nfunction getDataFromLocalStorage(key = '') {\n  let storedData = localStorage.getItem(key);\n\n  if (storedData) {\n    try {\n      storedData = JSON.parse(storedData);\n    } catch {\n      storedData = null;\n    }\n  }\n\n  return storedData;\n}\n\nfunction getFormattedDate(date) {\n  const year = date.getFullYear();\n  const month = (date.getMonth() + 1).toString().padStart(2, '0');\n  const day = date.getDate().toString().padStart(2, '0');\n\n  return `${year}-${month}-${day}`;\n}\n","export default \"__VITE_ASSET__55ee782b__\"","import sprite from '../img/sprite.svg';\n\nconst renderAPI = {\n  exerciseCardMarkup: function (params = {}, isFavorites = false) {\n    const { name, burnedCalories, time, bodyPart, target, rating, _id } =\n      params;\n\n    let markupDifference = '';\n    if (isFavorites) {\n      markupDifference = `<button type=\"button\" class=\"exercise-card-remove-btn\" data-delete-id=\"${_id}\" aria-label=\"Remove exercise from favorites button\">\n       <svg class=\"exercise-card-remove-icon\" width=\"16\" height=\"16\">\n           <use href=\"${sprite}#icon-trash-black\"></use>\n       </svg>\n    </button>`;\n    } else {\n      markupDifference = `<p class=\"exercise-card-rating\">\n      <span class=\"exercise-card-rating-value\">${rating}</span>\n         <svg class=\"exercise-card-rating-star\" width=\"18\" height=\"18\">\n           <use href=\"${sprite}#icon-star\"></use>\n         </svg>\n      </p>`;\n    }\n    return `<li class=\"exercise-card-item\" data-card-id=\"${_id}\">\n  <div class=\"exercise-card-actions\">\n    <div class=\"exercise-card-workout-container\">\n      <p class=\"exercise-card-workout-text\">Workout</p>\n      ${markupDifference}\n    </div>\n    <button type=\"button\" class=\"exercise-card-start-btn\" data-open-id=\"${_id}\" aria-label=\"Open exercises details window button\">\n      <span class=\"exercise-card-start-btn-text\">Start</span>\n      <svg class=\"exercise-card-start-btn-icon\" width=\"16\" height=\"16\">\n        <use href=\"${sprite}#icon-arrow-right\"></use>\n      </svg>\n    </button>\n  </div>\n  <h3 class=\"exercise-card-header-container\">\n    <svg class=\"exercise-card-header-icon\" width=\"24\" height=\"24\">\n      <use href=\"${sprite}#icon-icon-run\"></use>\n    </svg>\n    <span class=\"exercise-card-header-text\"\n      >${capitalizeString(name)}</span\n    >\n  </h3>\n  <ul class=\"exercises-card-info-list\">\n    <li class=\"exercise-card-info-parameter\">\n      <p class=\"exercise-card-parameter-name\">Burned calories:</p>\n      <p class=\"exercise-card-parameter-value\">${burnedCalories} / ${time} min</p>\n    </li>\n    <li class=\"exercise-card-info-parameter\">\n      <p class=\"exercise-card-parameter-name\">Body part:</p>\n      <p class=\"exercise-card-parameter-value\">${bodyPart}</p>\n    </li>\n    <li class=\"exercise-card-info-parameter\">\n      <p class=\"exercise-card-parameter-name\">Target:</p>\n      <p class=\"exercise-card-parameter-value\">${target}</p>\n    </li>\n  </ul>\n  </li>`;\n\n    // {\n    //     \"_id\": \"64f389465ae26083f39b17a4\",\n    //     \"bodyPart\": \"waist\",\n    //     \"equipment\": \"body weight\",\n    //     \"gifUrl\": \"https://ftp.goit.study/img/power-pulse/gifs/0003.gif\",\n    //     \"name\": \"air bike\",\n    //     \"target\": \"abs\",\n    //     \"description\": \"This refers to your core muscles, which include the rectus abdominis, obliques, and transverse abdominis. They're essential for maintaining posture, stability, and generating force in many movements. Exercises that target the abs include crunches, leg raises, and planks.\",\n    //     \"rating\": 3,\n    //     \"burnedCalories\": 312,\n    //     \"time\": 3,\n    //     \"popularity\": 1\n    //   }\n  },\n\n  filterGroupsMarkup: function ({ name = '', filter = '', imgUrl = '' }) {\n    const style = `background-image: linear-gradient(\n      0deg,\n      rgba(16, 16, 16, 0.7) 0%,\n      rgba(16, 16, 16, 0.7) 100%\n    ),\n    url('${imgUrl}');`;\n\n    return `<li class=\"exercises-gallery-item\" style=\"${style}\">\n    <a href=\"\" class=\"exercises-gallery-link\" data-name=\"${name}\" aria-label=\"Select exercises by ${name}\">\n      <h3 class=\"exercises-gallery-item-title\">${name}</h3>\n      <p class=\"exercises-gallery-item-description\">${filter}</p>\n    </a>\n  </li>`;\n\n    // {\n    //     \"name\": \"calves\",\n    //     \"filter\": \"Muscles\",\n    //     \"imgUrl\": \"https://ftp.goit.study/img/energy-flow/Calves.webp\"\n    //   },\n  },\n\n  paginationMarkup: function (numberOfPages = 1, activePage = 1) {\n    let markup = '';\n    for (let i = 1; i <= numberOfPages; i++) {\n      if (i !== activePage - 0) {\n        markup += `<li class=\"pagination-item\"><a href=\"\" class=\"pagination-item-link\" aria-label=\"Adress to page number ${i}\">${i}</a></li>`;\n      } else if (numberOfPages === 1) {\n        markup += `<li class=\"pagination-item pagination-item-hidden\">\n    <a href=\"\" \"Adress to currently active page number ${i}\">${i}</a>\n  </li>`;\n      } else {\n        markup += `<li class=\"pagination-item pagination-item-active\">\n    <a href=\"\" \"Adress to currently active page number ${i}\">${i}</a>\n  </li>`;\n      }\n    }\n    return markup;\n  },\n};\n\nexport default renderAPI;\n\nfunction capitalizeString(string = '') {\n  return string[0].toUpperCase() + string.substring(1);\n}\n","import backendAPI from './backendAPI';\nimport messages from './notificationAPI';\nimport { addRemoveCloseListeners } from './modal-exercise';\n\nlet currentRating = 0;\nconst backdropRating = document.querySelector('.backdrop');\nconst ratingStars = document.querySelectorAll('.feedback-rating-stars-svg');\nconst ratingValue = document.querySelector('.feedback-form-rating-value');\n\nconst modalExercise = document.querySelector('.modal-exercise');\nconst feedbackContainer = document.querySelector('.feedback-container');\nconst modalButtonGiveRating = document.querySelector(\n  '.modal-exercise-btn-rating'\n);\nconst feedbackCloseButton = document.querySelector('.feedback-close-button');\nconst feedbackForm = document.querySelector('.feedback-form');\n\nexport function startModalFeedbackScenario() {\n  // лістенери на відкриття і закриття\n  modalButtonGiveRating.addEventListener('click', openGiveRatingWindow);\n  feedbackCloseButton.addEventListener('click', closeGiveRatingWindow);\n\n  // лістенер на функцію відправки на бекенд\n  feedbackForm.addEventListener('submit', submitRatingForm);\n\n  ratingStar();\n}\n\nexport function openGiveRatingWindow(id = '') {\n  if (typeof id !== 'string') return;\n\n  feedbackContainer.dataset.id = id;\n  // закриття модалки вправи відкриття модалки рейтингу\n  modalExercise.classList.toggle('visually-hidden');\n  modalExercise.classList.toggle('is-open-modal');\n  feedbackContainer.classList.toggle('visually-hidden');\n  feedbackContainer.classList.toggle('is-open-modal');\n\n  addRemoveRatingListeners();\n}\n\nfunction closeGiveRatingWindow() {\n  feedbackForm.reset();\n  resetRating();\n\n  // видалення лістенерів\n  addRemoveRatingListeners(true);\n\n  // закриття модалки рейтингу відкриття модалки вправи\n  feedbackContainer.classList.toggle('visually-hidden');\n  feedbackContainer.classList.toggle('is-open-modal');\n\n  modalExercise.classList.toggle('visually-hidden');\n  modalExercise.classList.toggle('is-open-modal');\n\n  addRemoveCloseListeners();\n}\n\nasync function submitRatingForm(event) {\n  event.preventDefault();\n\n  // беру дані\n  const id = feedbackContainer.dataset.id;\n  const rate = parseFloat(ratingValue.textContent);\n  const email = document.querySelector('.feedback-form-input').value;\n  const review = document.querySelector('.feedback-form-textarea').value.trim();\n\n  // перевіряю чи усі поля заповнені\n  if (!id || !rate || !email || !review) {\n    messages.showError('Please fill in all fields!');\n    return;\n  }\n\n  const rating = { id, rate, email, review };\n  const response = await backendAPI.updateExerciseRating(rating);\n\n  // перевіряю відповідь з бекенду\n  if (response.result) {\n    messages.showSuccess('Thank you! Your opinion is important to us!');\n\n    closeGiveRatingWindow(id);\n  } else {\n    messages.showError(response.message);\n  }\n}\n\n//рейтинг зірочок\nfunction ratingStar() {\n  ratingStars.forEach(star => {\n    star.addEventListener('mouseenter', () => {\n      const hoverStarIndex = Array.from(ratingStars).indexOf(star);\n      highlightStars(hoverStarIndex);\n\n      showStarValue(hoverStarIndex + 1);\n    });\n\n    star.addEventListener('mouseleave', () => {\n      if (currentRating === 0) {\n        resetRating();\n      } else {\n        highlightStars(currentRating - 1);\n        showStarValue(currentRating);\n      }\n    });\n    star.addEventListener('click', () => {\n      const clickStarIndex = Array.from(ratingStars).indexOf(star) + 1;\n      currentRating = clickStarIndex;\n      ratingValue.textContent = `${currentRating}.0`;\n\n      highlightStars(clickStarIndex - 1);\n    });\n  });\n}\n\nfunction highlightStars(index) {\n  ratingStars.forEach((star, i) => {\n    if (i <= index) {\n      star.classList.add('feedback-rating-stars-svg-highlight');\n    } else {\n      star.classList.remove('feedback-rating-stars-svg-highlight');\n    }\n  });\n}\n\nfunction resetRating() {\n  ratingStars.forEach(star => {\n    star.classList.remove('feedback-rating-stars-svg-highlight');\n  });\n  ratingValue.textContent = '0.0';\n}\n\nfunction showStarValue(value) {\n  ratingValue.textContent = `${value}.0`;\n}\n\nfunction addRemoveRatingListeners(remove = false) {\n  if (remove) {\n    document.removeEventListener('keyup', keyEscapeRatingHandler);\n    backdropRating.removeEventListener('click', backdropRatingHandler);\n  } else {\n    backdropRating.addEventListener('click', backdropRatingHandler);\n    document.addEventListener('keyup', keyEscapeRatingHandler);\n  }\n}\n\nfunction backdropRatingHandler(e) {\n  if (e.target === backdropRating) {\n    closeGiveRatingWindow();\n  }\n}\n\nfunction keyEscapeRatingHandler(e) {\n  if (e.code === 'Escape') {\n    closeGiveRatingWindow();\n  }\n}\n","import backendAPI from './backendAPI';\nimport messages from './notificationAPI';\nimport localStorageAPI from './localStorageAPI';\nimport { openGiveRatingWindow } from './modal-feedback';\nimport { modalExerciseWindowCloseEvent } from '../favorites';\n\nlet currentExercise = {};\nconst backdrop = document.querySelector('.backdrop');\nconst exerciseCloseBnt = document.querySelector('.modal-exercise-btn-close');\nconst excerciseAddRemoveBtn = document.querySelector('.modal-exercise-btn');\nconst excerciseGiveRatingBtn = document.querySelector(\n  '.modal-exercise-btn-rating'\n);\nconst modalExersise = document.querySelector('.modal-exercise');\n\nconst titleName = document.querySelector('.modal-exercise-title');\nconst valueRating = document.querySelector('.mod-exercise-rating-value');\nconst modalExerciseList = document.querySelector('.modal-exercise-list');\nconst instructionText = document.querySelector(\n  '.modal-exercise-instruction-text'\n);\nconst addRemoveBtnSpan = document.querySelector('.mod-exercise-span');\n\nconst imageContainer = document.getElementById('img');\n\nexport function startModalExerciseScenario() {\n  // exerciseCloseBnt.addEventListener('click', exerciseCloseHandler);\n  // excerciseAddRemoveBtn.addEventListener('click', exerciseAddRemoveHandler);\n  // excerciseGiveRatingBtn.addEventListener('click', exerciseGiveRatingHandler);\n\n  document\n    .querySelector('.modal-exercise-btn-close')\n    .addEventListener('click', exerciseCloseHandler);\n  document\n    .querySelector('.modal-exercise-btn')\n    .addEventListener('click', exerciseAddRemoveHandler);\n  document\n    .querySelector('.modal-exercise-btn-rating')\n    .addEventListener('click', exerciseGiveRatingHandler);\n}\n\n// GET ELEMENT\nexport async function openModalExercise(id = '') {\n  backdrop.classList.add('backdrop-is-open');\n  modalExersise.classList.add('is-open-modal');\n\n  modalExersise.dataset.isChanged = '';\n  const exerciseData = await backendAPI.getExerciseInfo(id);\n\n  if (exerciseData?._id) {\n    modalExersise.dataset.id = exerciseData._id;\n    currentExercise = exerciseData;\n    renderModalExercise(exerciseData);\n\n    const isFavorite = localStorageAPI\n      .getFavorites()\n      .find(el => el._id === exerciseData._id);\n\n    addRemoveBtnSpan.textContent = isFavorite\n      ? addRemoveBtnSpan.dataset.remove\n      : addRemoveBtnSpan.dataset.add;\n\n    addRemoveCloseListeners();\n  } else {\n    modalExersise.dataset.id = '';\n    currentExercise = {};\n    messages.showError(exerciseData.message);\n    // close window logic + Esc\n  }\n}\n\nfunction renderModalExercise(elementModalExercise) {\n  getExerciseImage(elementModalExercise.gifUrl);\n  titleName.textContent = capitalizeString(elementModalExercise.name);\n  valueRating.textContent = elementModalExercise.rating\n    .toString()\n    .padEnd(3, '.0');\n  initRatings();\n  instructionText.textContent = elementModalExercise.description;\n\n  modalExerciseList.innerHTML = '';\n  let modalExerciseItem = ``;\n  const exerciseKeys = Object.keys(elementModalExercise);\n  if (exerciseKeys.includes('target')) {\n    modalExerciseItem = `<li class=\"modal-exercise-item\">\n          <p class=\"modal-exercise-subcategory\">Target</p>\n          <p class=\"modal-exercise-selected\">${capitalizeString(\n            elementModalExercise.target\n          )}</p>\n        </li>`;\n    modalExerciseList.insertAdjacentHTML('beforeend', modalExerciseItem);\n  }\n  if (exerciseKeys.includes('bodyPart')) {\n    modalExerciseItem = ` <li class=\"modal-exercise-item\">\n    <p class=\"modal-exercise-subcategory\">Body Part</p>\n    <p class=\"modal-exercise-selected\">${capitalizeString(\n      elementModalExercise.bodyPart\n    )}</p>\n  </li>`;\n    modalExerciseList.insertAdjacentHTML('beforeend', modalExerciseItem);\n  }\n  if (exerciseKeys.includes('equipment')) {\n    modalExerciseItem = ` <li class=\"modal-exercise-item\">\n          <p class=\"modal-exercise-subcategory\">Equipment</p>\n          <p class=\"modal-exercise-selected\">${capitalizeString(\n            elementModalExercise.equipment\n          )}</p>\n        </li>`;\n    modalExerciseList.insertAdjacentHTML('beforeend', modalExerciseItem);\n  }\n  if (exerciseKeys.includes('popularity')) {\n    modalExerciseItem = `<li class=\"modal-exercise-item\">\n          <p class=\"modal-exercise-subcategory\">Popular</p>\n          <p class=\"modal-exercise-selected\">${elementModalExercise.popularity}</p>\n        </li>`;\n    modalExerciseList.insertAdjacentHTML('beforeend', modalExerciseItem);\n  }\n  if (exerciseKeys.includes('burnedCalories' && 'time')) {\n    const modalExerciseItem = `<li class=\"modal-exercise-item\">\n            <p class=\"modal-exercise-subcategory\">Burned Calories</p>\n            <p class=\"modal-exercise-selected\">${elementModalExercise.burnedCalories}/${elementModalExercise.time} min</p>\n          </li>`;\n    modalExerciseList.insertAdjacentHTML('beforeend', modalExerciseItem);\n  }\n}\n\nfunction exerciseAddRemoveHandler() {\n  if (addRemoveBtnSpan.textContent === addRemoveBtnSpan.dataset.add) {\n    addRemoveBtnSpan.textContent = addRemoveBtnSpan.dataset.remove;\n    localStorageAPI.addItemToFavorites(currentExercise);\n  } else {\n    addRemoveBtnSpan.textContent = addRemoveBtnSpan.dataset.add;\n    localStorageAPI.deleteItemFromFavorites(modalExersise.dataset.id);\n  }\n\n  if (modalExersise.dataset.isFavorites)\n    modalExersise.dataset.isChanged = 'true';\n}\n\nfunction getExerciseImage(gifUrl) {\n  imageContainer.style.backgroundImage = `linear-gradient(\n      0deg,\n      rgba(27, 27, 27, 0.2) 0%,\n      rgba(27, 27, 27, 0.2) 100%\n    ),\n    url(${gifUrl})`;\n}\n\nfunction exerciseGiveRatingHandler() {\n  addRemoveCloseListeners(true);\n\n  openGiveRatingWindow(modalExersise.dataset.id);\n}\n\nfunction exerciseCloseHandler() {\n  closeWindow();\n}\n\nfunction backdropCloseHandler(e) {\n  if (e.target === backdrop) {\n    closeWindow();\n  }\n}\n\nfunction keyEscapeHandler(e) {\n  if (e.code === 'Escape') {\n    closeWindow();\n  }\n}\n\nfunction closeWindow() {\n  addRemoveCloseListeners(true);\n\n const animationSpeed = 300;\n  backdrop.classList.add('hiding');\n  setTimeout(() => {\n    backdrop.classList.remove('hiding');\n    modalExersise.classList.remove('is-open-modal');\n    backdrop.classList.remove('backdrop-is-open');\n  }, animationSpeed);\n  //   backdrop.classList.remove('backdrop-is-open');\n  //   modalExersise.classList.remove('is-open-mod\n\n  if (modalExersise.dataset.isFavorites) modalExerciseWindowCloseEvent();\n}\n\nfunction capitalizeString(string = '') {\n  return string[0].toUpperCase() + string.substring(1);\n}\n\n//GET RATING\n\nfunction initRatings() {\n  const ratingsRef = document.querySelectorAll('.mod-exercise-rating');\n  let ratingActive, ratingValue;\n  for (let index = 0; index < ratingsRef.length; index++) {\n    const rating = ratingsRef[index];\n    getRating(rating);\n  }\n\n  function getRating(rating) {\n    initRatingVars(rating);\n    setRatingActiveWidth();\n  }\n\n  function initRatingVars(rating) {\n    ratingActive = rating.querySelector('.mod-exercise-rating-active');\n    ratingValue = rating.querySelector('.mod-exercise-rating-value');\n  }\n  function setRatingActiveWidth() {\n    const ratingActiveWidth = ratingValue.textContent / 0.05;\n    ratingActive.style.width = `${ratingActiveWidth}%`;\n  }\n}\n\nexport function addRemoveCloseListeners(remove = false) {\n  if (remove) {\n    document.removeEventListener('keyup', keyEscapeHandler);\n    backdrop.removeEventListener('click', backdropCloseHandler);\n  } else {\n    backdrop.addEventListener('click', backdropCloseHandler);\n    document.addEventListener('keyup', keyEscapeHandler);\n  }\n}\n","const closeBtnEl = document.querySelector('.mob-menu-close-nav-button');\nconst navBtnEl = document.querySelector('.header-button-nav');\nconst mobileMenuEl = document.querySelector('.mobile-menu');\n\nnavBtnEl.addEventListener('click', () => mobileMenuEl.classList.add('is-open'));\ncloseBtnEl.addEventListener('click', () =>\n  mobileMenuEl.classList.remove('is-open')\n);\nmobileMenuEl.addEventListener('click', () =>\n  mobileMenuEl.classList.remove('is-open')\n);\n\nconst homeEl = document.querySelector('.header-home');\nconst favoritesEl = document.querySelector('.header-favorites');\nconst headerEl = document.querySelector(\".header\");\n\nif (window.location.pathname.endsWith('/favorites.html')) {\n  favoritesEl.classList.add('active');\n  homeEl.classList.remove('active');\n  headerEl.classList.remove('header-hero');\n\n\n} else {\n   homeEl.classList.add('active');\n  favoritesEl.classList.remove('active');\n  headerEl.classList.add('header-hero');\n}\n\nconst homeMobEl = document.querySelector('.mob-menu-home');\nconst favoritesMobEl = document.querySelector('.mob-menu-favorites');\n\nif (window.location.pathname.endsWith('/favorites.html')) {\n  favoritesMobEl.classList.add('active');\n  homeMobEl.classList.remove('active');\n} else {\n   homeMobEl.classList.add('active');\n  favoritesMobEl.classList.remove('active');\n}\n","const scrollButton = document.querySelector('.scroll-button');\nconst scrollMiniIcon = document.querySelector('.scroll-mini');\nconst scrollBigIcon = document.querySelector('.scroll-big');\n\nsetScrollIcon();\n\nscrollButton.addEventListener('click', () => {\n  window.scrollTo({\n    top: 0,\n    behavior: 'smooth',\n  });\n});\n\nwindow.addEventListener('scroll', () => {\n  document.documentElement.scrollTop >= 300 &&\n    scrollButton.classList.contains('is-hidden') &&\n    scrollButton.classList.remove('is-hidden');\n\n  document.documentElement.scrollTop < 300 &&\n    !scrollButton.classList.contains('is-hidden') &&\n    scrollButton.classList.add('is-hidden');\n});\n\nwindow.addEventListener('resize', () => {\n  setScrollIcon();\n});\n\nfunction setScrollIcon() {\n  if (document.documentElement.scrollWidth >= 1440) {\n    scrollBigIcon.classList.remove('is-undisplayed');\n    scrollMiniIcon.classList.add('is-undisplayed');\n  } else {\n    scrollBigIcon.classList.add('is-undisplayed');\n    scrollMiniIcon.classList.remove('is-undisplayed');\n  }\n}\n\n// // left: 37, up: 38, right: 39, down: 40,\n// // spacebar: 32, pageup: 33, pagedown: 34, end: 35, home: 36\n// var keys = {37: 1, 38: 1, 39: 1, 40: 1};\n\n// function preventDefault(e) {\n//   e.preventDefault();\n// }\n\n// function preventDefaultForScrollKeys(e) {\n//   if (keys[e.keyCode]) {\n//     preventDefault(e);\n//     return false;\n//   }\n// }\n\n// // modern Chrome requires { passive: false } when adding event\n// var supportsPassive = false;\n// try {\n//   window.addEventListener(\"test\", null, Object.defineProperty({}, 'passive', {\n//     get: function () { supportsPassive = true; }\n//   }));\n// } catch(e) {}\n\n// var wheelOpt = supportsPassive ? { passive: false } : false;\n// var wheelEvent = 'onwheel' in document.createElement('div') ? 'wheel' : 'mousewheel';\n\n// // call this to Disable\n// function disableScroll() {\n//   window.addEventListener('DOMMouseScroll', preventDefault, false); // older FF\n//   window.addEventListener(wheelEvent, preventDefault, wheelOpt); // modern desktop\n//   window.addEventListener('touchmove', preventDefault, wheelOpt); // mobile\n//   window.addEventListener('keydown', preventDefaultForScrollKeys, false);\n// }\n\n// // call this to Enable\n// function enableScroll() {\n//   window.removeEventListener('DOMMouseScroll', preventDefault, false);\n//   window.removeEventListener(wheelEvent, preventDefault, wheelOpt);\n//   window.removeEventListener('touchmove', preventDefault, wheelOpt);\n//   window.removeEventListener('keydown', preventDefaultForScrollKeys, false);\n// }\n","import localStorageAPI from './localStorageAPI';\nimport { startModalExerciseScenario } from './modal-exercise';\nimport { startModalFeedbackScenario } from './modal-feedback';\n\n// set Quote of the Day\n(async () => {\n  let quoteData = await localStorageAPI.getQuoteOfTheDay();\n  document.querySelector('.quote-author').textContent = quoteData.author;\n  document.querySelector('.quote-text').textContent = quoteData.quote;\n})();\n\nimport './header';\nimport './scroll';\n\nstartModalExerciseScenario();\nstartModalFeedbackScenario();\n","import messages from './js/notificationAPI';\nimport localStorageAPI from './js/localStorageAPI';\nimport renderAPI from './js/renderMarkup';\nimport { openModalExercise } from './js/modal-exercise';\nimport makeAsyncRequest from './js/loader';\n\nimport './js/initialization';\n\nconst MOBILE_LIMIT = 8;\nlet isMobileDevice = document.documentElement.scrollWidth < 768;\n\nconst emptyListBlock = document.querySelector('.favorites-not-found-exercises');\nconst favoritesList = document.querySelector('.favorites-exercises-list');\nconst paginationList = document.querySelector('.pagination-list');\nconst modalExerciseWindow = document.querySelector('.modal-exercise');\n\nif (window.location.pathname.endsWith('/favorites.html')) {\n  favoritesList.addEventListener('click', favoritesListHandler);\n  paginationList.addEventListener('click', pageChangeHandler);\n\n  modalExerciseWindow.dataset.isFavorites = 'true';\n\n  window.addEventListener('resize', () => {\n    if (isMobileDevice !== document.documentElement.scrollWidth < 768) {\n      isMobileDevice = !isMobileDevice;\n      renderFavoritesList();\n    }\n  });\n\n  renderFavoritesList();\n}\n\nfunction renderFavoritesList(page = 1) {\n  const items = localStorageAPI.getFavorites();\n\n  if (isMobileDevice && items.length > MOBILE_LIMIT) {\n    paginationList.classList.remove('visually-hidden');\n    paginationList.innerHTML = renderAPI.paginationMarkup(\n      Math.ceil(items.length / MOBILE_LIMIT)\n    );\n    favoritesList.innerHTML = items\n      .slice((page - 1) * MOBILE_LIMIT, page * MOBILE_LIMIT)\n      .map(item => renderAPI.exerciseCardMarkup(item, true))\n      .join('');\n  } else {\n    paginationList.classList.add('visually-hidden');\n    paginationList.innerHTML = '';\n    favoritesList.innerHTML = items\n      .map(item => renderAPI.exerciseCardMarkup(item, true))\n      .join('');\n  }\n\n  if (items.length > 0) {\n    emptyListBlock.classList.add('visually-hidden');\n    favoritesList.classList.remove('visually-hidden');\n  } else {\n    emptyListBlock.classList.remove('visually-hidden');\n    favoritesList.classList.add('visually-hidden');\n  }\n}\n\nfunction pageChangeHandler(event) {\n  if (event.target.nodeName === 'A') {\n    event.preventDefault();\n    renderFavoritesList(Number(event.target.innerText));\n    paginationList.innerHTML = renderAPI.paginationMarkup(\n      event.currentTarget.children.length,\n      Number(event.target.innerText)\n    );\n  }\n}\n\nfunction favoritesListHandler(event) {\n  const isStartButton = event.target.closest('.exercise-card-start-btn');\n  if (isStartButton) {\n    openModalExercise(isStartButton.getAttribute('data-open-id'));\n    return;\n  }\n\n  const isRemoveButton = event.target.closest('.exercise-card-remove-btn');\n  if (isRemoveButton) {\n    localStorageAPI.deleteItemFromFavorites(\n      isRemoveButton.getAttribute('data-delete-id')\n    );\n    renderFavoritesList();\n    return;\n  }\n}\n\nexport function modalExerciseWindowCloseEvent() {\n  if (modalExerciseWindow.dataset.isChanged) renderFavoritesList();\n}\n"],"names":["messages","textMessage","isValidMessage","showMessage","message","type","lines","line","index","iziToast","axios","backendAPI","page","limit","filter","error","queryParams","id","rate","email","review","response","LOCAL_STORAGE_KEYS","localStorageAPI","date","getFormattedDate","savedData","getDataFromLocalStorage","quoteData","dataToSave","favoritesData","exercise","item","key","storedData","year","month","day","sprite","renderAPI","params","isFavorites","name","burnedCalories","time","bodyPart","target","rating","_id","markupDifference","capitalizeString","imgUrl","numberOfPages","activePage","markup","i","string","currentRating","backdropRating","ratingStars","ratingValue","modalExercise","feedbackContainer","modalButtonGiveRating","feedbackCloseButton","feedbackForm","startModalFeedbackScenario","openGiveRatingWindow","closeGiveRatingWindow","submitRatingForm","ratingStar","addRemoveRatingListeners","resetRating","addRemoveCloseListeners","event","star","hoverStarIndex","highlightStars","showStarValue","clickStarIndex","value","remove","keyEscapeRatingHandler","backdropRatingHandler","currentExercise","backdrop","modalExersise","titleName","valueRating","modalExerciseList","instructionText","addRemoveBtnSpan","imageContainer","startModalExerciseScenario","exerciseCloseHandler","exerciseAddRemoveHandler","exerciseGiveRatingHandler","openModalExercise","exerciseData","renderModalExercise","isFavorite","el","elementModalExercise","getExerciseImage","initRatings","modalExerciseItem","exerciseKeys","gifUrl","closeWindow","backdropCloseHandler","keyEscapeHandler","animationSpeed","modalExerciseWindowCloseEvent","ratingsRef","ratingActive","getRating","initRatingVars","setRatingActiveWidth","ratingActiveWidth","closeBtnEl","navBtnEl","mobileMenuEl","homeEl","favoritesEl","headerEl","homeMobEl","favoritesMobEl","scrollButton","scrollMiniIcon","scrollBigIcon","setScrollIcon","MOBILE_LIMIT","isMobileDevice","emptyListBlock","favoritesList","paginationList","modalExerciseWindow","favoritesListHandler","pageChangeHandler","renderFavoritesList","items","isStartButton","isRemoveButton"],"mappings":"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"}